# 项目提取与演示方案 (Tariff UI Demo) - 高保原版重构

## 0. 任务进度 (Checklist)
- [x] **第一阶段：环境搭建** (初始化 Vite, Tailwind v4, Headless UI)
- [x] **第二阶段：源码完整提取** (寻找并迁入原系统 PricingSchemeEdit & BillingCalculation 完整代码)
- [x] **第三阶段：数据层适配** (将 API 通讯逻辑替换为本地 mockData，保持 UI 逻辑不变)
- [x] **第四阶段：深度脱敏与校验** (确保所有硬编码数据均已去标识化)
- [ ] **第五阶段：验证与交付** (静态构建，确保交互手感与原版 1:1 一致)

## 1. 目标概述
本项目核心目标由“简化版演示”调整为“**像素级还原的原生代码演示**”。
不再对原系统 UI 进行任何简化或结构调整，而是直接将 `Pricing Scheme Edit` 和 `Billing Calculation` 两个页面的完整源码提取出来，适配到当前的 Vite+Tailwind4 环境中。

## 2. 提取策略
### 2.1 资源路径 (Resource Paths)
*   **代码来源**: `参考项目/SAPowerNetworksCrawler` (从中拷贝 `PricingSchemeEdit` & `BillingCalculation` 及其依赖组件)
*   **交互逻辑参考**: `参考项目/traffic_logs` (参考其中的前后端传输报文，用于构建本地 mock 数据)

### 2.2 零简化 UI (No Simplification)
*   **完整复刻**: 保留原系统的所有布局细节、复杂的表格逻辑、弹窗交互、以及任何自定义的硬核组件。
*   **框架容器**: 如果原系统有侧边栏或顶部导航，在演示版中应保留其视觉风格，确保“沉浸式”体验。

### 2.3 数据注入 (Hardcoded Injection)
*   **剥离 API**: 找到原组件中的 `useEffect` 数据请求或 `axios` 调用。
*   **本地代理**: 不改变组件的 State 结构，直接在组件内部或通过模拟的 Hooks (`usePricingScheme`, `useBillingResults`) 返回预定义的静态 JSON 数据。
*   **全功能模拟**: 确保点击“编辑”、“保存”、“切换 Tab”等操作在前端有即时反馈，即便它们不再提交后台。

## 3. 技术实施路线
1.  **代码搬运**: 从原工程目录中精确定位 `.tsx` 页面文件及其关联的 `components/` 文件夹。
2.  **样式兼容**: 确保原系统的 CSS 类名或内联样式在 Tailwind 4 下能正常渲染，解决可能的样式冲突。
3.  **依赖补全**: 补全原系统使用的所有第三方库（如特定图表库、日期选择器等）。
4.  **脱敏清洗**: 在搬运静态数据时，遵循绝对匿名化原则（NMI 混淆、数值随机化）。

## 4. 关键交付点
*   **Billing Settings (原定价方案页)**: 保持所有阶梯配置、时间段编辑器、动态增删逻辑的完整。
*   **Billing Presentation (原账单计算页)**: 保持所有明细表格、图表联动及费用拆解逻辑的完整。
*   **无感切换**: 两个页面共享一套脱敏后的逻辑数据，实现逻辑闭环。

## 5. 开发规范
*   **禁止删除逻辑**: 即便某些逻辑在纯前端环境下显得多余，也应保留以维持代码的原始面貌，仅对数据来源做最小改动。
*   **安全合规**: 定期检查 `demoData.ts` 中的数据，严密防范真实敏感信息的残留。
